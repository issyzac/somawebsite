(function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)a=r[d],s[a]&&p.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},s={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2046:function(e,t,n){},"28de":function(e,t,n){},"2b63":function(e,t,n){"use strict";var i=n("2cd8"),s=n.n(i);s.a},"2bdc":function(e,t,n){"use strict";var i=n("786d"),s=n.n(i);s.a},"2cd8":function(e,t,n){},"3ecb":function(e,t,n){"use strict";var i=n("f62e"),s=n.n(i);s.a},4678:function(e,t,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return n(t)}function o(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i,s,o=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.editting?n("bc-editor",{attrs:{editting:e.editting,element:e.curelement,"image-upload-url":e.imageUploadUrl,"unsplash-client-id":e.unsplashClientId},on:{save:e.saveElement,cancel:e.cancelEditting}}):e._e(),n("bc-header",{attrs:{save:e.saving_result},on:{publish:function(t){e.publish(!0)}}}),n("bc-element-picker",{attrs:{"show-elements":e.showChoices,elements:e.choices},on:{cancel:function(t){e.showChoices={}},add:e.addElement}}),e.elements.length>1&&!e.arranging?n("button",{attrs:{title:"Arrange Sections",id:"openArranger"},on:{click:function(t){e.arranging=!0}}},[n("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}}),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]):e._e(),e.arranging?n("bc-aside",{attrs:{elements:e.elements},on:{cancel:function(t){e.arranging=!1}},model:{value:e.elements,callback:function(t){e.elements=t},expression:"elements"}}):e._e(),n("div",{attrs:{id:"content"}},[n("div",{attrs:{id:"insightBody"}},[null!=e.cover?n("div",{class:["blogpost-section-wrapper","cover-image-"+e.cover.options.width],attrs:{id:"insightImage"}},[n("div",{staticClass:"component-editor-buttons"},[n("button",{staticClass:"component-editor-button",on:{click:function(t){e.editElement(e.cover)}}},[n("svg",{attrs:{fill:"#f18f16",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]),n("button",{staticClass:"component-editor-button",on:{click:function(t){e.removeCoverImage()}}},[n("svg",{attrs:{fill:"#e04b2a",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])])]),n("img",{attrs:{src:e.cover.options.url,alt:""}})]):e._e(),n("div",{staticClass:"blogpost-section-wrapper"},[n("div",{attrs:{id:"insightTitle"}},[null===e.cover?n("div",{staticClass:"component-editor-buttons"},[n("button",{staticClass:"component-editor-button show-options",on:{click:function(t){e.addCoverImage()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}})])])]):e._e(),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{id:"blogTitle",placeholder:"Enter post title here",rows:"1"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),n("span",{attrs:{id:"insightDate"}},[e._v("\n                    By "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.author,expression:"author"}],attrs:{type:"text",placeholder:"Enter author's name here"},domProps:{value:e.author},on:{keyup:function(t){e.autosave()},input:function(t){t.target.composing||(e.author=t.target.value)}}})])]),n("div",{ref:"content",staticClass:"blog-content",staticStyle:{"min-height":"calc(100vh - 330px)"}},[e._l(e.elements,function(t,i){return[n("div",{key:i,class:["blogpost-section-wrapper",{"wide-image":("bc-image"===t.component||"bc-youtube-video"===t.component)&&"wide"===t.options.width},{"full-image":("bc-image"===t.component||"bc-youtube-video"===t.component)&&"full"===t.options.width}]},[n("div",{staticClass:"component-wrapper",staticStyle:{position:"relative"}},["bc-text"!=t.component||t.options.text.length?e._e():n("button",{staticClass:"component-editor-button show-options",on:{click:function(n){e.showOptions(n.target,t)}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"}})])]),"bc-text"!=t.component?n("div",{staticClass:"component-editor-buttons"},[n("button",{staticClass:"component-editor-button",on:{click:function(n){e.editElement(t)}}},[n("svg",{attrs:{fill:"#f18f16",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]),n("button",{staticClass:"component-editor-button",on:{click:function(n){e.removeElement(t.id)}}},[n("svg",{attrs:{fill:"#e04b2a",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])])]):e._e(),"bc-text"==t.component?n("vue-editor",{key:i,ref:"inlineEditor"+t.id,refInFor:!0,staticClass:"inline-editor",class:{focused:t.focused},attrs:{placeholder:t.options.default,value:t.options.text,editorToolbar:e.customToolbar},on:{focus:function(n){e.elementToggleFocus(n,t.id)},blur:function(n){e.elementToggleFocus(n,t.id,!1)},"text-change":function(n){e.textChanged(n,t.id)},"selection-change":function(n){e.selectionChanged(t.id,n)}},nativeOn:{keyup:[function(n){if(!("button"in n)&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete"]))return null;e.deleteClicked(t.id)},function(n){return("button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter"))&&n.shiftKey?void e.enterClicked(t.id):null},function(t){e.autosave()}]},model:{value:t.options.text,callback:function(n){e.$set(t.options,"text",n)},expression:"element.options.text"}}):n(t.component,{tag:"component",attrs:{component:t.component,options:t.options},model:{value:t.options.html,callback:function(n){e.$set(t.options,"html",n)},expression:"element.options.html"}})],1)])]})],2)])])],1)},r=[],l=(n("6b54"),n("7f7f"),n("a481"),n("20d6"),n("bc3a")),c=n.n(l),u=n("2ef0"),d=n.n(u),p=n("c1df"),h=n.n(p),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"fileUploader"}},[e.src?n("img",{attrs:{src:e.src,alt:"",width:"100%"}}):n("div",{attrs:{id:"fileDrop"}}),e.uploading?n("div",{attrs:{id:"loader"}},[n("span"),e._v("\n    Uploading... "+e._s(e.progress)+"%\n  ")]):e._e(),null!=e.upload_error?n("div",{attrs:{id:"error"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}})]),n("p",[e._v(e._s(e.upload_error))]),n("span",{attrs:{id:"errorCloser"},on:{click:function(t){e.upload_error=null}}},[e._v("Close")])]):e._e()])},v=[],m=(n("28a5"),n("1743")),g="";function b(e,t){i=new m["a"],g=t,e.addEventListener("dragover",y,!1),e.addEventListener("dragleave",y,!1),e.addEventListener("drop",_,!1)}function y(e){e.stopPropagation(),e.preventDefault(),"dragover"==e.type?e.target.classList.add("hover"):e.target.classList.remove("hover")}function _(e){e.stopPropagation(),e.preventDefault(),y(e);var t=e.target.files||e.dataTransfer.files;if(t&&t.length){var n=t[0];if(-1!=n.type.indexOf("image")){var s=new FileReader;s.onload=function(e){i.emit("loaded",n,e.target.result),x(n)},s.readAsDataURL(n)}else i.emit("nonimage",n.name)}}function x(e){var t={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded/e.total*100;console.log("Progress: ",t),i.emit("progress",t)}},n=new FormData,s=e.name.replace(/ /g,"-"),o=s.split(".").pop();n.append("photo",e),n.append("name",s),n.append("ext",o),c.a.post(g,n,t).then(function(e){var t=e.data,n=t.success?t.path:t.msg;i.emit("complete",t.success,n)}).catch(function(){i.emit("complete",!1,"A network or server error occured!")})}var w={props:{imageUploadUrl:String,location:String},data:function(){return{uploading:!1,upload_error:null,progress:0,src:""}},mounted:function(){s=this,b(this.$el,this.imageUploadUrl),i.once("loaded",function(e,t){s.src=t,s.uploading=!0}),i.once("progressed",function(e){s.progress=e}),i.once("complete",function(e,t){s.uploading=!1,console.log(e,t),e?s.$emit("input",t):(s.upload_error=t,s.src=null)})},methods:{}},k=w,j=(n("e9ad"),n("2877")),C=Object(j["a"])(k,f,v,!1,null,"0f782cd0",null);C.options.__file="index.vue";var E=C.exports,z=[{name:"Alert",icon:'<svg viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>',component:"bc-alert",skeleton:{type:{default:"info",type:"choice",choices:["info","warning","error"]},text:{default:"Alert text goes here.",type:"text"}}},{name:"Quote",icon:'<svg viewBox="0 0 24 24"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/></svg>',component:"bc-quote",skeleton:{text:{default:"Quote content goes here.",type:"long-text"},author:{default:"E.g. J.K.Rowling",type:"text"},year:{default:"E.g. 500 AD",type:"text"}}},{name:"Image",icon:'<svg viewBox="0 0 24 24"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"/></svg>',component:"bc-image",skeleton:{source:{default:null,type:"image"},caption:{default:"Image caption goes here.",type:"text"},width:{default:"normal",type:"choice",choices:["normal","wide","full"]}}},{name:"Youtube Video",icon:'<svg viewBox="0 0 334.623 334.623" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m175.33 287.02c-7e-3 0 0 0 0 0-38.053 0-79.481-1.202-123.12-3.554-25.784-1.414-45.785-21.292-48.632-48.349-4.762-45.2-4.762-90.83 0-135.62 2.841-26.832 22.815-46.71 48.574-48.33 75.271-4.737 152.72-4.737 230.31 0 26.061 1.581 45.586 20.99 48.6 48.304 4.749 43.246 4.756 88.87 6e-3 135.63-2.744 27.038-22.25 46.472-48.535 48.356-33.079 2.364-69.147 3.566-107.2 3.566zm-8.901-226.56c-37.931 0-76.113 1.195-113.48 3.541-19.685 1.234-34.39 16.048-36.594 36.851-4.666 43.895-4.666 88.613 0 132.93 2.204 20.971 16.89 35.778 36.543 36.858 43.413 2.339 84.609 3.535 122.42 3.535 37.751 0 73.51-1.189 106.29-3.528 19.833-1.427 34.57-16.228 36.659-36.839 4.666-45.862 4.666-90.58 6e-3 -132.93-2.294-20.868-17.005-35.688-36.594-36.877-38.53-2.352-77.31-3.541-115.25-3.541zm-31.852 61.331v88.208l84.706-43.805-84.706-44.403z"/></svg>',component:"bc-youtube-video",skeleton:{source:{default:null,type:"youtube"},width:{default:"wide",type:"choice",choices:["normal","wide","full"]}}}],M=n("b3e9"),T=n("19e9"),S=n.n(T),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{attrs:{id:"headerWrapper"}},[n("h1",[e._v("Create post")]),n("div",{staticClass:"layout center"},[n("p",{class:{error:!1===e.save.success},attrs:{id:"saveMessage"}},[e._v("\n                "+e._s(e.save.message)+"\n            ")]),n("button",{staticClass:"black",on:{click:function(t){e.$emit("publish")}}},[e._v("\n                PUBLISH POST\n            ")])])])])},I=[],L={props:{save:Object}},$=L,U=(n("2b63"),Object(j["a"])($,H,I,!1,null,"d63c4eb0",null));U.options.__file="BCHeader.vue";var B=U.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("div",{staticClass:"layout"},[n("h1",{staticClass:"flex"},[e._v("Arrange Sections")]),n("button",{attrs:{id:"closer"},on:{click:function(t){e.$emit("cancel")}}},[n("svg",{attrs:{"enable-background":"new 0 0 100 100",id:"Layer_1",version:"1.1",viewBox:"0 0 100 100","xml:space":"preserve"}},[n("polygon",{attrs:{fill:"#010101",points:"77.6,21.1 49.6,49.2 21.5,21.1 19.6,23 47.6,51.1 19.6,79.2 21.5,81.1 49.6,53 77.6,81.1 79.6,79.2   51.5,51.1 79.6,23 "}})])])]),n("p",[e._v("Drag sections to sort them in order that you want them to appear in.")]),n("div",{attrs:{id:"elementsWrapper"}},[n("draggable",{model:{value:e.els,callback:function(t){e.els=t},expression:"els"}},[n("transition-group",e._l(e.els,function(t,i){return n("div",{key:i,staticClass:"element"},[n("p",{domProps:{innerHTML:e._s("bc-text"===t.component?t.options.text:t.label.toUpperCase())}})])}))],1)],1)])},P=[],V=n("1516"),q=n.n(V),A={props:{elements:Array},components:{draggable:q.a},computed:{els:{get:function(){return this.elements},set:function(e){this.$emit("input",e)}}}},D=A,Y=(n("b9c8"),Object(j["a"])(D,O,P,!1,null,"4274fe54",null));Y.options.__file="BCAside.vue";var N=Y.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"elementPicker"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"elementPickerBg"},on:{click:function(t){e.$emit("cancel")}}}),n("transition",{attrs:{css:!0},on:{"before-enter":e.beforeEnter,enter:e.enter,leave:e.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"elementsWrapper"}},[n("label",{attrs:{id:"title"}},[e._v("Add Element")]),n("button",{attrs:{id:"closer"},on:{click:function(t){e.$emit("cancel")}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])]),n("div",{attrs:{id:"elements"}},e._l(e.elements,function(t,i){return n("div",{key:i,staticClass:"element",attrs:{title:t.name},on:{click:function(t){e.addElement(i)}}},[n("i",{domProps:{innerHTML:e._s(t.icon)}}),n("label",[e._v(e._s(t.name))])])}))])])],1)},K=[],R={props:{elements:Array,showElements:Object},methods:{addElement:function(e){var t=d.a.cloneDeep(this.elements[e]);this.$emit("add",t)},beforeEnter:function(e){e.style.left=this.positionStyle.left,e.style.top=this.positionStyle.top},enter:function(e,t){var n=e.animate([{opacity:0,transform:"translateX(-20%)"},{opacity:1,transform:"none"}],{duration:100,easing:"ease-out"});n.onfinish=function(){t()}},leave:function(e,t){var n=e.animate([{transform:"none"},{transform:"translateX(-20%)"}],{duration:100,easing:"ease-in"});n.onfinish=function(){t()}}},computed:{show:function(){return this.showElements&&this.showElements.status},positionStyle:function(){if(!this.showElements||!this.showElements.position)return{};var e=this.showElements.position;return{left:e.left+"px",top:e.top+"px"}}}},W=R,J=(n("deb2"),Object(j["a"])(W,F,K,!1,null,"1161b228",null));J.options.__file="BCElementPicker.vue";var Q,X,Z=J.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{domProps:{innerHTML:e._s(e.options.text)}})},ee=[],te={props:{options:Object,component:Object,html:String},data:function(){return{useinner:!1,editting:!1}},mounted:function(){this._emitHTML()},watch:{options:{immediate:!0,handler:function(e){this._emitHTML()},deep:!0}},methods:{_emitHTML:function(){if(this.$el){var e=this.useinner?this.$el.innerHTML:this.$el.outerHTML,t=document.createElement("div");t.classList.add("blogpost-section-wrapper"),"bc-image"!==this.component&&"bc-youtube-video"!==this.component||"wide"!==this.options.width?"bc-image"!==this.component&&"bc-youtube-video"!==this.component||"full"!==this.options.width||t.classList.add("full-image"):t.classList.add("wide-image"),t.innerHTML=e,this.$emit("input",t.outerHTML)}}}},ne=te,ie=Object(j["a"])(ne,Q,X,!1,null,null,null);ie.options.__file="BcElement.vue";var se=ie.exports,oe={extends:se},ae=oe,re=Object(j["a"])(ae,G,ee,!1,null,null,null);re.options.__file="BCText.vue";var le=re.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert-box",class:e.options.type},[n("span",{staticClass:"alert-name"},[e._v("Note:")]),e._v("\n    "+e._s(e.options.text)+"\n")])},ue=[],de={extends:se},pe=de,he=Object(j["a"])(pe,ce,ue,!1,null,null,null);he.options.__file="BCAlert.vue";var fe=he.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blockquote",{attrs:{owner:e.owner}},[e._v("\n    "+e._s(e.options.text)+"\n")])},me=[],ge={extends:se,computed:{owner:function(){return this.options.author&&this.options.author.length?this.options.year&&this.options.year.length?this.options.author+" - "+this.options.year:this.options.author:"no-owner"}}},be=ge,ye=Object(j["a"])(be,ve,me,!1,null,null,null);ye.options.__file="BCQuote.vue";var _e=ye.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:["video-iframe",e.options.width,{playing:!e.options.type||"simple"===e.options.type||e.playing}]},[n("iframe",{attrs:{width:"100%",height:"100%",src:e.embed,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}})]),e.options.caption&&e.options.caption.length?n("small",{domProps:{textContent:e._s(e.options.caption)}}):e._e()])},we=[],ke=(n("4917"),{extends:se,data:function(){return{playing:!1}},computed:{id:function(){var e=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,t=this.options.url||this.options.source,n=t.match(e);return n[2]},image:function(){return"https://i.ytimg.com/vi/".concat(this.id,"/hqdefault.jpg")},embed:function(){return"https://www.youtube.com/embed/".concat(this.id,"?rel=0&amp;autoplay=").concat(this.playing?1:0,"&amp;controls=").concat(this.options.controls?1:0,"&amp;showinfo=0")}}}),je=ke,Ce=Object(j["a"])(je,xe,we,!1,null,null,null);Ce.options.__file="BCYoutubeVideo.vue";var Ee=Ce.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{class:[e.options.width],attrs:{src:e.options.source,alt:e.options.caption}}),e.options.caption&&e.options.caption.length?n("small",{domProps:{textContent:e._s(e.options.caption)}}):e._e()])},Me=[],Te={extends:se,data:function(){return{useinner:!0}}},Se=Te,He=Object(j["a"])(Se,ze,Me,!1,null,null,null);He.options.__file="BCImage.vue";var Ie=He.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{open:e.editting,inline:e.inline},attrs:{id:"editorWrapper"}},[n("button",{attrs:{id:"closer"},on:{click:function(t){e.cancelEditting(e.element.id)}}},[n("svg",{attrs:{"enable-background":"new 0 0 100 100",id:"Layer_1",version:"1.1",viewBox:"0 0 100 100","xml:space":"preserve"}},[n("polygon",{attrs:{fill:"#010101",points:"77.6,21.1 49.6,49.2 21.5,21.1 19.6,23 47.6,51.1 19.6,79.2 21.5,81.1 49.6,53 77.6,81.1 79.6,79.2   51.5,51.1 79.6,23 "}})])]),e.element?n("div",{class:{"text-only":"bc-text"===e.element.component},attrs:{id:"bcEditor"}},[n("div",{attrs:{id:"label"}},[e._v("\n            "+e._s(e.element.label)+"\n        ")]),n("div",{attrs:{id:"form"}},e._l(e.fields,function(t,i){return n("div",{key:i,staticClass:"editor-item"},[n("bc-editor-field",{attrs:{field:t,nolabel:"bc-text"===e.element.component}})],1)})),n("div",{attrs:{id:"buttons"}},[n("button",{on:{click:function(t){e.cancelEditting()}}},[e._v("Cancel")]),n("button",{on:{click:function(t){e.saveElement(e.element)}}},[e._v("Save")])])]):e._e()])},$e=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.nolabel||"image"===e.field.type||"youtube"===e.field.type?e._e():n("label",[e._v(e._s(e.field.name))]),"number"==e.field.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],attrs:{type:"number"},domProps:{value:e.field.value},on:{input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}}):"choice"==e.field.type?n("select",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.field,"value",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose "+e._s(e.field.name))]),e._l(e.field.choices,function(t,i){return n("option",{key:i,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n        ")])})],2):"long-text"==e.field.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],attrs:{rows:"5"},domProps:{value:e.field.value},on:{input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}}):"ws-text"==e.field.type?n("vue-editor",{attrs:{editorToolbar:e.customToolbar},model:{value:e.field.value,callback:function(t){e.$set(e.field,"value",t)},expression:"field.value"}}):"image"==e.field.type?n("bc-image-field",{attrs:{url:e.field.value},model:{value:e.field.value,callback:function(t){e.$set(e.field,"value",t)},expression:"field.value"}}):"youtube"==e.field.type?n("bc-youtube-field",{attrs:{url:e.field.value},model:{value:e.field.value,callback:function(t){e.$set(e.field,"value",t)},expression:"field.value"}}):n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],ref:"input",attrs:{rows:"1",placeholder:e.field.default},domProps:{value:e.field.value},on:{input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}})],1)},Be=[],Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bcImageWrapper"}},[n("label",[e._v("\n        Source\n         \n\n        "),null===e.src&&(e.imageUploadUrl||e.unsplashClientId)?n("div",[e.imageUploadUrl&&e.imageUploadUrl.length?n("button",{class:{active:0===e.source},on:{click:function(t){e.source=0}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}})]),e._v("\n                Upload\n            ")]):e._e(),n("button",{class:{active:1===e.source},on:{click:function(t){e.source=1}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}})]),e._v("\n                Link\n            ")]),e.unsplashClientId&&e.unsplashClientId.length?n("button",{class:{active:2===e.source},on:{click:function(t){e.source=2}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}}),n("path",{attrs:{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9C14.12 9 13 7.88 13 6.5S14.12 4 15.5 4 18 5.12 18 6.5 16.88 9 15.5 9z"}})]),e._v("\n                Search\n            ")]):e._e()]):e._e(),null!==e.src?n("button",{on:{click:function(t){e.src=null}}},[e._v("Change\n        ")]):e._e()]),null===e.src?n("div",[1===e.source?n("div",{class:{typing:!e.src&&e.enteringLink},attrs:{id:"linkInputWrapper"}},[n("input",{attrs:{type:"text",placeholder:"Enter image link and press enter"},on:{keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.src=t.target.value},function(t){return("button"in t||86===t.keyCode)&&t.ctrlKey?void(e.src=t.target.value):null},function(t){if(!("button"in t)&&86!==t.keyCode&&91!==t.keyCode)return null;e.src=t.target.value},function(t){if(!("button"in t)&&86!==t.keyCode&&93!==t.keyCode)return null;e.src=t.target.value},function(t){e.enteringLink=t.target.value.length>0}]}}),n("button",{class:{clickable:!e.enteringLink&&null!=e.clipboardText},on:{click:function(t){e.src=e.clipboardText}}},[e._v("Paste")])]):e.unsplashClientId&&e.unsplashClientId.length&&2===e.source?n("unsplash-search",{attrs:{"client-id":e.unsplashClientId,"per-page":"6"},model:{value:e.src,callback:function(t){e.src=t},expression:"src"}}):0===e.source&&e.imageUploadUrl&&e.imageUploadUrl.length?n("file-uploader",{attrs:{"image-upload-url":e.imageUploadUrl},model:{value:e.src,callback:function(t){e.src=t},expression:"src"}}):e._e()],1):e._e(),n("div",{attrs:{id:"imageWrapper"}},[null!==e.src?n("img",{attrs:{src:e.src,alt:""}}):e._e()])])},Pe=[],Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{typing:!e.fetched&&e.typing},attrs:{id:"wrapper"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Enter keywords and press enter"},domProps:{value:e.query},on:{keyup:[function(t){e.startedTyping(t.target.value)},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchUnsplash(t.target.value)}],input:function(t){t.target.composing||(e.query=t.target.value)}}}),e.fetched&&e.results.length>e.perPage?n("div",{attrs:{id:"movers"}},[n("button",{class:{clickable:e.page>1},on:{click:function(t){e.page=e.page-1}}},[e._v("Prev")]),e._v("\n     \n    "),n("button",{class:{clickable:e.results.length>e.page*e.perPage},on:{click:function(t){e.page=e.page+1}}},[e._v("Next")])]):e._e(),!e.typing&&e.fetched&&e.results.length?n("div",{attrs:{id:"results"}},e._l(e.results,function(t,i){return i>=(e.page-1)*e.perPage&&i<e.page*e.perPage?n("img",{key:i,style:{background:t.color},attrs:{src:t.urls.small,alt:""},on:{click:function(n){e.selectImage(t.urls.full)}}}):e._e()})):e._e(),!e.typing&&(e.fetching||e.fetch_error||e.fetched&&!e.results.length)?n("div",{attrs:{id:"emptyMessage"}},[e.fetching?n("span",[e._v("\n      Fetching images....\n    ")]):e.fetch_error?n("span",{staticStyle:{color:"#dd5555"}},[e._v("\n      An error occured fetching images, check your network connection and try again.\n    ")]):e.results.length?e._e():n("span",[e._v("\n      No results found for "),n("strong",[e._v(e._s(e.query))])])]):e._e()])},qe=[],Ae=(n("a916"),{props:{perPage:{type:String,default:10},clientId:String},data:function(){return{fetching:!1,fetched:!1,fetch_error:!1,query:"",page:1,results:[],typing:!1}},mounted:function(){this},methods:{startedTyping:function(e){this.typing=e,this.fetched=!1,this.results=[]},searchUnsplash:function(e){var t=this;this.fetching=!0,this.fetched=!1,this.fetch_error=!1,this.results=[],this.page=1,this.typing=!1,c.a.get("https://api.unsplash.com/search/photos",{params:{query:e,per_page:24,client_id:this.clientId}}).then(function(e){var n=e.data.results.map(function(e){var t=e.color,n=e.description,i=e.urls,s=e.user;return{color:t,description:n,urls:i,user:s}});t.fetched=!0,t.results=n,t.fetching=!1}).catch(function(e){t.fetched=!0,t.fetching=!1,t.fetch_error=!0,console.log("Api error",e)})},selectImage:function(e){this.$emit("input",e)}}}),De=Ae,Ye=(n("2bdc"),Object(j["a"])(De,Ve,qe,!1,null,"70a8cd94",null));Ye.options.__file="UnsplashSearch.vue";var Ne=Ye.exports,Fe=n("386c"),Ke=n.n(Fe),Re={props:{url:String},mounted:function(){var e=this,t=this.$root.$children[0];this.imageUploadUrl=t.imageUploadUrl,this.unsplashClientId=t.unsplashClientId,this.source=this.imageUploadUrl&&this.imageUploadUrl.length?0:1,this.src=this.url&&this.url.length?this.url:null,Ke.a.change(function(t,n){"visible"===n&&1===e.source&&(e.source=-1,setTimeout(function(){e.source=1}))})},data:function(){return{enteringLink:!1,clipboardText:null,imageUploadUrl:"",unsplashClientId:"",src:null,source:2}},watch:{source:{immediate:!0,handler:function(e,t){this._setupClipboard(e)}},src:{immediate:!0,handler:function(e,t){this._setupClipboard(this.source),null!=e&&this.$emit("input",e)}}},methods:{_setupClipboard:function(e){var t=this;1===e&&navigator.clipboard.readText().then(function(e){e&&e.length&&t._isValidURL(e)?t.clipboardText=e:t.clipboardText=null}).catch(function(e){t.clipboardText=null,console.error("Failed to read clipboard contents: ",e)})},_isValidURL:function(e){var t=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;return!!t.test(e)}},components:{FileUploader:E,UnsplashSearch:Ne}},We=Re,Je=(n("8bae"),Object(j["a"])(We,Oe,Pe,!1,null,"2441768d",null));Je.options.__file="BCImageField.vue";var Qe=Je.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bcImageWrapper"}},[n("label",[e._v("\n        Source\n         \n\n        "),null===e.src&&e.youtubeApiKey?n("div",[n("button",{class:{active:0===e.source},on:{click:function(t){e.source=0}}},[n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}})]),e._v("\n                Link\n            ")]),e.youtubeApiKey&&e.youtubeApiKey.length?n("button",{class:{active:1===e.source},on:{click:function(t){e.source=1}}},[n("svg",{staticStyle:{"enable-background":"new 0 0 418.261 418.261"},attrs:{version:"1.1",id:"Capa_1",viewBox:"0 0 418.261 418.261","xml:space":"preserve"}},[n("path",{attrs:{d:"M129.13,80v144l128-72L129.13,80z M145.13,107.358L224.494,152l-79.363,44.642V107.358z"}}),n("path",{attrs:{d:"M353.13,181.58V48c0-26.51-21.492-48-48-48h-256c-26.508,0-48,21.49-48,48v208c0,26.51,21.492,48,48,48h181.578 c2.062,5.82,4.656,11.372,7.742,16.615l-58.789,59.044c-6.242,6.256-6.23,16.389,0.027,22.629l11.332,11.301 c3.121,3.115,7.211,4.672,11.297,4.672c4.102,0,8.203-1.566,11.328-4.699l58.718-58.974C286.67,363.054,303.302,368,321.13,368 c53.019,0,96-42.981,96-96C417.13,230.218,390.392,194.773,353.13,181.58z M225.13,272c0,5.464,0.562,10.786,1.438,16H49.13 c-17.645,0-32-14.355-32-32V48c0-17.646,14.355-32,32-32h256c17.645,0,32,14.354,32,32v129.439 c-5.215-0.877-10.535-1.439-16-1.439C268.111,176,225.13,218.981,225.13,272z M202.318,402.261l-11.32-11.313l56.809-57.052 c3.45,4.082,7.234,7.863,11.309,11.319L202.318,402.261z M321.13,352c-44.114,0-80-35.888-80-80s35.886-80,80-80s80,35.888,80,80 S365.244,352,321.13,352z"}}),n("path",{attrs:{d:"M369.13,272.001c0,26.466-21.535,47.998-48,47.998v16c35.344,0,64-28.652,64-63.998H369.13z"}})]),e._v("\n                Search\n            ")]):e._e()]):e._e(),null!==e.src?n("button",{on:{click:function(t){e.src=null}}},[e._v("Change\n        ")]):e._e()]),null===e.src?n("div",[0===e.source?n("div",{class:{typing:!e.src&&e.enteringLink},attrs:{id:"linkInputWrapper"}},[n("input",{attrs:{type:"text",placeholder:"Enter video link and press enter"},on:{keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.src=t.target.value},function(t){return("button"in t||86===t.keyCode)&&t.ctrlKey?void(e.src=t.target.value):null},function(t){if(!("button"in t)&&86!==t.keyCode&&91!==t.keyCode)return null;e.src=t.target.value},function(t){if(!("button"in t)&&86!==t.keyCode&&93!==t.keyCode)return null;e.src=t.target.value},function(t){e.enteringLink=t.target.value.length>0}]}}),n("button",{class:{clickable:!e.enteringLink&&null!=e.clipboardText},on:{click:function(t){e.src=e.clipboardText}}},[e._v("Paste")])]):e.youtubeApiKey&&e.youtubeApiKey.length&&1===e.source?n("youtube-search",{attrs:{"api-key":e.youtubeApiKey,"per-page":"4"},model:{value:e.src,callback:function(t){e.src=t},expression:"src"}}):e._e()],1):e._e(),n("div",{attrs:{id:"imageWrapper"}},[null!==e.src?n("iframe",{attrs:{width:"100%",height:e.videoHeight+"px",src:e.embed,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}}):e._e()])])},Ze=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{typing:!e.fetched&&e.typing},attrs:{id:"wrapper"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Enter keywords and press enter"},domProps:{value:e.query},on:{keyup:[function(t){e.startedTyping(t.target.value)},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchYoutube(t.target.value)}],input:function(t){t.target.composing||(e.query=t.target.value)}}}),e.fetched&&e.results.length>e.perPage?n("div",{attrs:{id:"movers"}},[n("button",{class:{clickable:e.page>1},on:{click:function(t){e.page=e.page-1}}},[e._v("Prev")]),e._v("\n     \n    "),n("button",{class:{clickable:e.results.length>e.page*e.perPage},on:{click:function(t){e.page=e.page+1}}},[e._v("Next")])]):e._e(),!e.typing&&e.fetched&&e.results.length?n("div",{attrs:{id:"results"}},[n("div",e._l(e.results,function(t,i){return i>=(e.page-1)*e.perPage&&i<e.page*e.perPage?n("div",{key:i,staticClass:"video-list-item",attrs:{title:t.title},on:{click:function(n){e.selectVideo(t.url)}}},[n("div",{staticClass:"video-list-item-thumb"},[n("img",{attrs:{src:t.image,alt:t.title}})]),n("div",{staticClass:"video-list-item-caption"},[n("span",[e._v(e._s(t.title.substr(0,30)+(t.title.length>30?"...":"")))])])]):e._e()}))]):e._e(),!e.typing&&(e.fetching||e.fetch_error||e.fetched&&!e.results.length)?n("div",{attrs:{id:"emptyMessage"}},[e.fetching?n("span",[e._v("\n      Fetching videos....\n    ")]):e.fetch_error?n("span",{staticStyle:{color:"#dd5555"}},[e._v("\n      An error occured fetching videos, check your network connection and try again.\n    ")]):e.results.length?e._e():n("span",[e._v("\n      No results found for "),n("strong",[e._v(e._s(e.query))])])]):e._e()])},et=[],tt=n("9001"),nt=n.n(tt),it={props:{perPage:{type:String,default:10},apiKey:String},data:function(){return{fetching:!1,fetched:!1,fetch_error:!1,query:"",page:1,results:[],typing:!1}},methods:{startedTyping:function(e){this.typing=e,this.fetched=!1,this.results=[]},searchYoutube:function(e){var t=this;this.fetching=!0,this.fetched=!1,this.fetch_error=!1,this.results=[],this.page=1,this.typing=!1,nt()({key:this.apiKey,term:e,maxResults:16},function(e){t.fetched=!0,t.results=e,t.fetching=!1},function(e){t.fetched=!0,t.fetching=!1,t.fetch_error=!0,console.log("Api error",e)})},selectVideo:function(e){this.$emit("input",e)}}},st=it,ot=(n("78fa"),Object(j["a"])(st,Ge,et,!1,null,"7a629975",null));ot.options.__file="index.vue";var at=ot.exports,rt={props:{url:String},mounted:function(){var e=this,t=this.$root.$children[0];this.youtubeApiKey=t.youtubeApiKey,this.videoHeight=9*this.$el.getBoundingClientRect().width/16,this.src=this.url&&this.url.length?this.url:null,this._setupClipboard(this.source),Ke.a.change(function(t,n){"visible"===n&&0===e.source&&(e.source=-1,setTimeout(function(){e.source=0}))})},data:function(){return{youtubeApiKey:"",enteringLink:!1,clipboardText:null,src:null,source:0,embed:null,videoHeight:0}},watch:{source:{immediate:!0,handler:function(e,t){this._setupClipboard(e)}},src:{immediate:!0,handler:function(e,t){if(this._setupClipboard(this.source),null!=e){this.$emit("input",e);var n=this._parseYoutubeUrl(e);n&&(this.embed="https://www.youtube.com/embed/".concat(n[2],"?rel=0&amp;showinfo=0"))}}}},methods:{_parseYoutubeUrl:function(e){var t=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;return e.match(t)},_setupClipboard:function(e){var t=this;navigator.clipboard.readText().then(function(e){e&&e.length&&t._isValidYoutubeURL(e)?t.clipboardText=e:t.clipboardText=null}).catch(function(e){t.clipboardText=null,console.error("Failed to read clipboard contents: ",e)})},_isValidYoutubeURL:function(e){var t=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;return!!t.test(e)&&this._parseYoutubeUrl(e)}},components:{YoutubeSearch:at}},lt=rt,ct=(n("a8ea"),Object(j["a"])(lt,Xe,Ze,!1,null,"12d044fc",null));ct.options.__file="index.vue";var ut=ct.exports,dt={props:{field:Object,nolabel:Boolean},mounted:function(){var e=this.$refs.input;e&&S()(e)},watch:{field:{immediate:!0,handler:function(e,t){}}},data:function(){return{blogHTML:"",customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link"]]}},components:{VueEditor:M["VueEditor"],BcImageField:Qe,"bc-youtube-field":ut}},pt=dt,ht=(n("3ecb"),Object(j["a"])(pt,Ue,Be,!1,null,"a0f39ec0",null));ht.options.__file="BCEditorField.vue";var ft=ht.exports,vt={methods:{cancelEditting:function(){this.$emit("cancel")},saveElement:function(e){var t={};d.a.each(this.fields,function(e,n){t[n]=e.value}),e.options=t,this.$emit("save",e)}},props:{element:Object,editting:Boolean,inline:{type:Boolean,default:!1}},computed:{fields:function(){var e=this;return d.a.forIn(this.element.skeleton,function(t,n){var i={};return i[n]=t,e.element.options||"choice"!=t.type||i[n].value&&i[n].value.length||(i[n].value=d.a.clone(t.default)),i[n].name=n,i})}},components:{"bc-editor-field":ft}},mt=vt,gt=(n("6fdf"),Object(j["a"])(mt,Le,$e,!1,null,"7d350a65",null));gt.options.__file="BCEditor.vue";var bt=gt.exports;o["a"].filter("formatDate",function(e){if(e)return h()(String(e)).format("MMMM DD, YYYY")});var yt={props:{blog:Object,saveUrl:String,imageUploadUrl:String,unsplashClientId:String,youtubeApiKey:String},data:function(){return{blogId:null,title:"",cover:null,author:null,date:h()(new Date).format("YYYY-MM-DDTHH:mm:ssZ"),entry_idx:-1,html_text:"",quill:{},choices:z,elements:[],editting:!1,curelement:{},arranging:!1,handler:new o["a"],showChoices:{},customToolbar:[{header:"1"},{header:"2"},"bold","italic","link"],coverImageElement:{name:"Cover Image",label:"Cover Image",component:"cover",skeleton:{url:{default:null,type:"image"},width:{default:"wide",type:"choice",choices:["normal","wide","full"]}}},saving:!1,saving_result:{message:""}}},mounted:function(){S()(this.$el.querySelector("#blogTitle"))},created:function(){try{this.blogId=this.dbId}catch(e){this.blogId=void 0}try{var e=JSON.parse(this.blog);this.title=e.title,this.blogId=e.id,this.author=e.author;var t=JSON.parse(e.creator_json);t?(console.log("creator_json found...."),this.elements=t.elements,this.cover=t.cover):console.log("Creator json not found...."),this.elements.length&&"bc-text"==d.a.last(this.elements).component||this.addBufferText()}catch(e){this.title="",this.elements=[],console.log("Error parsing blog:",e),this.addBufferText()}},methods:{getEmptyTextElement:function(){var e=this.elements.length>0?"Continue writting here...":"Enter your post content here...",t=t||e;return{name:"Text",component:"bc-text",options:{text:"",default:t}}},addBufferText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.addElement(this.getEmptyTextElement(e),!1,t)},addCoverImage:function(){this.addElement(d.a.cloneDeep(this.coverImageElement))},removeCoverImage:function(){this.cover=null,this.publish()},getSelectionHtml:function(e){var t=document.createElement("div"),n=new M["Quill"](t);return n.setContents(e),t.querySelector(".ql-editor").innerHTML},enterClicked:function(e){var t=this,n=this.quill.getSelection();if(n){var i=n.index,s=d.a.findIndex(this.elements,["id",e]),o=(this.elements[s],this.$refs["inlineEditor".concat(e)][0].quill),a=o.getContents(0,i),r=o.getContents(i,o.getLength()),l=this.getSelectionHtml(a),c=this.getSelectionHtml(r).replace("<p><br></p>","");o.blur(),o.root.innerHTML=l;var u=this.getEmptyTextElement("Continue right here");if(this.addElement(u,!1,s+1),c.length){console.log("Adding forward text....");var p=this.getEmptyTextElement("Continue right here");p.options.text=c,this.addElement(p,!1,s+2)}setTimeout(function(){var e=t.$refs["inlineEditor".concat(t.elements[s+1].id)];console.log(e),e[0].quill.focus()},5)}},deleteClicked:function(e){var t=d.a.findIndex(this.elements,["id",e]),n=t==this.elements.length-1,i=this.elements[t];0==t||n||i.options.text.length||(i.next_to_last_click?this.removeElement(e):(i.next_to_last_click=!0,this.saveElement(i)))},showOptions:function(e,t){this.entry_idx=d.a.findIndex(this.elements,["id",t.id]);var n=e.getBoundingClientRect();this.showChoices={status:!0,position:{left:n.left,top:n.top}}},addElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.showChoices={},t?this.editElement(e):this.saveElement(e,!0,n)},editElement:function(e){if("cover"!=e.component&&(!e.label||!e.label.length)){var t=d.a.filter(this.elements,["name",e.name]).length;e.label=e.name+" "+t}this.curelement=e,this.editting=!0},removeElement:function(e){var t=d.a.findIndex(this.elements,["id",e]);this.elements.splice(t,1),this.autosave()},saveElement:function(e,t,n){var i=this;if(e){if("cover"===e.component)return this.cover=e,this.curelement={},this.editting=!1,void this.publish();var s=d.a.findIndex(this.elements,["id",e.id]);if(!t&&(!e.label||!e.label.length)){var a=d.a.filter(this.elements,["name",e.name]).length;e.label=e.name+" "+a}if(-1!=s)o["a"].set(this.elements,s,e);else{var r=d.a.last(this.elements);e.id=(1e32*Math.random()).toString(36),n&&-1!=n?(console.log("Saving at position...."),this.elements.splice(n,0,e)):(console.log("Saving at the end...."),!t&&r&&"bc-text"==r.component&&""==r.options.text?this.elements.pop():this.saveElement(r),-1!=this.entry_idx?this.elements.splice(this.entry_idx,1,e):this.elements.push(e),"bc-text"!=e.component&&(console.log("Save idx: ",s,this.elements.length-1),t||(-1!=this.entry_idx?this.addBufferText("Continue writting here...",this.entry_idx+1):this.addBufferText(),setTimeout(function(){var t=i.$refs["inlineEditor".concat(e.id)];if(t){var n=t[0].quill;n.focus()}},5)),this.autosave()),this.entry_idx=-1)}this.curelement={},this.editting=!1}},cancelEditting:function(){this.curelement={},this.editting=!1},elementToggleFocus:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.quill=n?e:{}},textChanged:function(e,t){var n=d.a.findIndex(this.elements,["id",t]),i=this.elements[n];i.selected&&this.quill&&this.quill.getSelection()&&this.quill.getSelection().length||(i.focused=!1),o["a"].set(this.elements,n,i)},selectionChanged:function(e,t){var n=d.a.findIndex(this.elements,["id",e]),i=this.elements[n],s=t&&t.length>0;i.selected=s,o["a"].set(this.elements,n,i);var a=this.$refs["inlineEditor".concat(e)][0].$el,r=a.querySelector(".ql-toolbar");if(i.focused=s,s){var l=this.quill.getBounds(t.index),c=r.getBoundingClientRect(),u=a.getBoundingClientRect(),p=0,h=l.left+c.width-u.width;h>0&&(p=h/2),r.style.top=l.top-46+"px",r.style.left=l.left-p+"px"}else r.style.top="-36px",r.style.left=0},autosave:d.a.debounce(function(){this.publish()},2e3),setHtml:function(){var e=d.a.reduce(this.elements,function(e,t){if("bc-text"==t.component){var n=document.createElement("div");return n.classList.add("blogpost-section-wrapper"),n.innerHTML=t.options.text,e+n.outerHTML}return e+t.options.html},"");this.html_text=e},publish:function(e){var t=this;this.saving_result={},this.setHtml();var n=d.a.cloneDeep(this.elements),i=d.a.cloneDeep(this.cover),s=d.a.last(n);"bc-text"==s.component&&""==s.options.text&&n.pop();var o={cover:i,elements:n},a={title:this.title?this.title.replace(/'/g,"\\'"):"",author:this.author?this.author.replace(/'/g,"\\'"):"",cover_url:i?i.options.url:"",body:this.html_text,creator_json:JSON.stringify(o),published_at:e?h()(new Date).format("YYYY-MM-DD HH:mm:ss"):null};this.blogId&&(a.id=this.blogId),console.log("current id: ",this.blogId),this.saving=!0,this.saving_result={message:"Saving..."},c.a.post(this.saveUrl,a).then(function(e){var n=e.data;t.saving=!1,t.saving_result={success:n.status},n.status||(t.saving_result.message=n.message?n.message:"Failed to saved changes!"),setTimeout(function(){t.saving_result={}},1e3),console.log("Saved",n),n.new_id&&(t.blogId=n.new_id),n.redirect_url&&history.pushState({},"editting",n.redirect_url)},function(e){t.saving=!1,t.saving_result={success:!1,message:"Failed to save, please check your network."},console.log("Save error",e)})}},watch:{elements:{deep:!0,handler:function(e){this.setHtml(),this.autosave}},title:{deep:!0,handler:function(e,t){!t&&e&&e.length?this.autosave():t&&t.length&&t!=e&&this.autosave()}}},components:{"bc-header":B,"bc-aside":N,"bc-element-picker":Z,"bc-text":le,"bc-alert":fe,"bc-editor":bt,"bc-quote":_e,"bc-youtube-video":Ee,"file-uploader":E,"bc-image":Ie,"vue-editor":M["VueEditor"]},filters:{json:function(e){return JSON.stringify(e)}}},_t=yt,xt=(n("a03c"),Object(j["a"])(_t,a,r,!1,null,null,null));xt.options.__file="BlogCreator.vue";var wt=xt.exports;o["a"].config.productionTip=!0,o["a"].component("blog-creator",wt),new o["a"]({el:"#app"})},"5c8a":function(e,t,n){},"6fdf":function(e,t,n){"use strict";var i=n("c250"),s=n.n(i);s.a},"786d":function(e,t,n){},"78fa":function(e,t,n){"use strict";var i=n("aed3"),s=n.n(i);s.a},"8bae":function(e,t,n){"use strict";var i=n("2046"),s=n.n(i);s.a},9001:function(e,t,n){var i=n("bc3a"),s=n("2ef0"),o="https://www.googleapis.com/youtube/v3/search";e.exports=function(e,t,n){if(!e.key)throw new Error("Youtube Search expected key, received undefined");var a={part:"snippet",key:e.key,q:e.term,type:"video",maxResults:e.maxResults};i.get(o,{params:a}).then(function(e){var n=e.data.items,i=s.map(n,function(e){var t=e.snippet.thumbnails,n={channelId:e.snippet.channelId,channel:e.snippet.channelTitle,title:e.snippet.title,subtitle:e.snippet.channelTitle,id:e.id.videoId,url:"https://www.youtube.com/watch?v=".concat(e.id.videoId),embed_url:"https://youtube.com/embed/".concat(e.id.videoId)};return n.bg=t.default.url,t.high&&(n.image=t.high.url),n});t&&t(s.filter(i,function(e){return e.title&&e.title.length&&e.image&&e.image.length}))}).catch(function(e){console.error(e),n&&n(e)})}},a03c:function(e,t,n){"use strict";var i=n("28de"),s=n.n(i);s.a},a8ea:function(e,t,n){"use strict";var i=n("d341"),s=n.n(i);s.a},aed3:function(e,t,n){},b9c8:function(e,t,n){"use strict";var i=n("fe9d"),s=n.n(i);s.a},c250:function(e,t,n){},d341:function(e,t,n){},deb2:function(e,t,n){"use strict";var i=n("5c8a"),s=n.n(i);s.a},e2fa:function(e,t,n){},e9ad:function(e,t,n){"use strict";var i=n("e2fa"),s=n.n(i);s.a},f62e:function(e,t,n){},fe9d:function(e,t,n){}});
//# sourceMappingURL=app.js.map